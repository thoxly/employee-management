#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ production —Å—Ä–µ–¥—É

set -e

echo "üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ production —Å—Ä–µ–¥—É..."

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º staging —Å—Ä–µ–¥—É
echo "üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º staging —Å—Ä–µ–¥—É..."
docker compose -f docker-compose.staging.yml down 2>/dev/null || true

# –ó–∞–ø—É—Å–∫–∞–µ–º production —Å—Ä–µ–¥—É
echo "üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º production —Å—Ä–µ–¥—É..."
docker compose up -d

# –ñ–¥–µ–º –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
echo "‚è≥ –ñ–¥–µ–º –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤..."
sleep 10

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
echo "üìä –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:"
docker compose ps

echo ""
echo "‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ production –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
echo "üåê –î–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: https://–ø—Ä–∏–±—ã–ª.—Ä—Ñ" 