# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –¥–ª—è –≤—Å–µ—Ö —Å—Ä–µ–¥

## üìã –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞

DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ `–ø—Ä–∏–±—ã–ª.—Ä—Ñ`, –Ω–æ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ `dev.–ø—Ä–∏–±—ã–ª.—Ä—Ñ` –∏ `staging.–ø—Ä–∏–±—ã–ª.—Ä—Ñ`.

## üîß –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –∑–∞–ø–∏—Å–µ–π

### –®–∞–≥ 1: –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º

–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–∏–º –¥–æ–º–µ–Ω–æ–º `–ø—Ä–∏–±—ã–ª.—Ä—Ñ` –∏ –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "DNS" –∏–ª–∏ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS".

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å–∏ –¥–ª—è –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ A-–∑–∞–ø–∏—Å–∏:

#### 1. Dev –ø–æ–¥–¥–æ–º–µ–Ω:

```
–¢–∏–ø –∑–∞–ø–∏—Å–∏: A
–ò–º—è: dev
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.169.243
TTL: 300 (–∏–ª–∏ 600)
```

#### 2. Staging –ø–æ–¥–¥–æ–º–µ–Ω:

```
–¢–∏–ø –∑–∞–ø–∏—Å–∏: A
–ò–º—è: staging
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.169.243
TTL: 300 (–∏–ª–∏ 600)
```

#### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –∑–∞–ø–∏—Å—å:

```
–¢–∏–ø –∑–∞–ø–∏—Å–∏: A
–ò–º—è: @ (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
–ó–Ω–∞—á–µ–Ω–∏–µ: 89.111.169.243
TTL: 300 (–∏–ª–∏ 600)
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ 10 –º–∏–Ω—É—Ç) –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS –∑–∞–ø–∏—Å–µ–π
nslookup dev.–ø—Ä–∏–±—ã–ª.—Ä—Ñ
nslookup staging.–ø—Ä–∏–±—ã–ª.—Ä—Ñ
nslookup –ø—Ä–∏–±—ã–ª.—Ä—Ñ

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–æ–≤
curl -I https://dev.–ø—Ä–∏–±—ã–ª.—Ä—Ñ
curl -I https://staging.–ø—Ä–∏–±—ã–ª.—Ä—Ñ
curl -I https://–ø—Ä–∏–±—ã–ª.—Ä—Ñ
```

## üåê –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS —É –≤–∞—Å –±—É–¥–µ—Ç:

- **üîÑ Dev —Å—Ä–µ–¥–∞**: https://dev.–ø—Ä–∏–±—ã–ª.—Ä—Ñ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —Å –≤–µ—Ç–∫–∏ `dev`)
- **üß™ Staging —Å—Ä–µ–¥–∞**: https://staging.–ø—Ä–∏–±—ã–ª.—Ä—Ñ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —Å –≤–µ—Ç–∫–∏ `staging`)
- **üöÄ Production —Å—Ä–µ–¥–∞**: https://–ø—Ä–∏–±—ã–ª.—Ä—Ñ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —Å –≤–µ—Ç–∫–∏ `main`)

## üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:

```bash
git checkout dev
# ... —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ...
git push origin dev
# ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ https://dev.–ø—Ä–∏–±—ã–ª.—Ä—Ñ
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
git checkout staging
git merge dev
git push origin staging
# ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ https://staging.–ø—Ä–∏–±—ã–ª.—Ä—Ñ
```

### 3. –ü—Ä–æ–¥–∞–∫—à–Ω:

```bash
git checkout main
git merge staging
git push origin main
# ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ https://–ø—Ä–∏–±—ã–ª.—Ä—Ñ
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **DNS –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –∑–∞–Ω—è—Ç—å –¥–æ 10 –º–∏–Ω—É—Ç**
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤
3. **–ö–∞–∂–¥–∞—è —Å—Ä–µ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
4. **Dev —Å—Ä–µ–¥–∞ –∏–º–µ–µ—Ç hot reload** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üö® Troubleshooting

### –ï—Å–ª–∏ –¥–æ–º–µ–Ω—ã –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏**:

   ```bash
   nslookup dev.–ø—Ä–∏–±—ã–ª.—Ä—Ñ
   nslookup staging.–ø—Ä–∏–±—ã–ª.—Ä—Ñ
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):

   ```bash
   sudo certbot certificates
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):

   ```bash
   sudo nginx -t
   sudo systemctl status nginx
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):
   ```bash
   cd /var/www/prod
   docker-compose ps
   ```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ DNS –∑–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Secrets** –¥–ª—è CI/CD
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–µ—Ä–≤—É—é —Å—Ä–µ–¥—É** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
